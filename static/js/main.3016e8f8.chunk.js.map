{"version":3,"sources":["context/AuthContext.js","utils.js","components/Input/Input.js","components/Button/Button.js","pages/AuthPage/AuthPage.js","components/NavBar/NavBar.js","layout/MainLayout/MainLayout.js","components/Selector/Selector.js","components/SideBar/SideBar.js","components/Card/Card.js","components/CardsCatalog/CardsCatalog.js","components/Modal/Modal.js","components/Pagination/Pagination.js","pages/CardsPage/CardsPage.js","components/SingleCard/SingleCard.js","pages/SingleCardPage/SingleCardPage.js","components/Loading/Loading.js","components/App/App.js","routes.js","index.js"],"names":["AuthContext","createContext","delay","ms","Promise","resolve","setTimeout","validateLogin","email","password","a","trim","toLowerCase","success","error","validate2FA","num","toString","length","parseInt","token","Date","now","validateLogout","Input","title","disabled","value","type","onChangeCb","onChange","onSubmitCb","onSubmit","props","className","htmlFor","onKeyPress","e","keyCode","code","key","id","target","Button","onClickCb","onClick","userLoading","useContext","AuthPage","useState","setEmail","setPassword","secondFA","setSecondFA","animation","setAnimation","showHiddenElements","setShowHiddenElements","setError","tempUserData","login","logout","login2FA","toggleAnimation","loginHandler","preventDefault","result","login2FAHandler","handleBackFrom2FABtn","useEffect","requestAnimationFrame","document","querySelector","focus","inert","aria-hidden","required","data-autofocus","aria-live","minLength","maxLength","NavBar","leftBtn","rightBtn","MainLayout","navbar","content","navBarElement","enabled","Selector","arr","choseCallback","defaultValue","filtered","setFiltered","isOpen","setIsOpen","selected","setSelected","inputValue","setInputValue","filterArr","filter","includes","toggleIsOpen","v","chooseItem","map","item","i","bind","SideBar","children","Card","card","alt","name","src","imageUrl","artist","CardsCatalog","cards","onCardClickCb","onCardClick","pagination","Modal","modalClose","history","useHistory","getElementById","imageUrlHiRes","types","subtype","attacks","Fragment","damage","cost","c","push","Pagination","page","pageCount","setPage","pageRange","arrOfPageNums","Set","rightAvailable","leftAvailable","tempPage","half","Math","floor","add","min","Array","from","sort","b","usePageRange","CardsPage","fetchTypes","fetchCards","pageSize","setPageCount","setType","setSubtype","modal","setModal","modalValue","setModalValue","cardsArray","setCardsArray","subTypesArray","setSubTypesArray","typesArray","setTypesArray","asyncUseEffectFetchCards","data","json","pageCnt","ceil","headers","get","asyncUseEffectFetchAllData","res","subtypes","cardsPageNavbarSettings","SingleCard","style","textAlign","padding","text","resistances","r","evolvesFrom","SingleCardPage","fetchSingleCard","useParams","singleCard","setSingleCard","asyncUseEffect","singleCardPageNavbarSettings","goBack","Loading","App","localUser","JSON","parse","localStorage","getItem","isTokenValid","user","setUser","isAuthenticated","setIsAuthenticated","setUserLoading","setTempUserData","routes","exact","path","component","to","useRoutes","isLoginValid","is2FAValid","setItem","stringify","loggedOut","removeItem","fetch","promiseType","promiseSubType","all","provider","useMemo","Provider","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.3016e8f8.chunk.js","sourcesContent":["import { createContext } from \"react\";\n//используем контекст чтобы передавать авторизацию через хук useContext\nfunction noop() {}\n\nexport const AuthContext = createContext({\n  // login: noop(),\n  // logout: noop(),\n  // isAuthenticated: false,\n  // user: null,\n});\n","export const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\n\nexport const validateLogin = async (email, password) => {\n  await delay(500);\n  return email?.trim().toLowerCase() === \"kode@kode.ru\" &&\n    password === \"Enk0deng\"\n    ? { success: true }\n    : { success: false, error: \"Invalid user data\" };\n};\n\nexport const validate2FA = async (num) => {\n  await delay(500);\n  return num?.toString().length === 6 &&\n    num?.toString() === parseInt(num).toString()\n    ? { success: true, token: Date.now() + 7 * 24 * 60 * 60 * 1000 }\n    : { success: false, error: \"Enter any six digits\" };\n};\n\nexport const validateLogout = async () => {\n  await delay(50);\n  return { success: true };\n};\n","import React from \"react\";\nimport \"./Input.scss\";\n\nexport const Input = ({\n  title,\n  disabled,\n  value,\n  type = \"text\",\n  onChange: onChangeCb,\n  onSubmit: onSubmitCb,\n  ...props\n}) => {\n  const onChangeHandler = (e) => {\n    if (onChangeCb) {\n      onChangeCb(e.target.value);\n    }\n  };\n\n  const onSubmitHandler = (e) => {\n    if (e.keyCode === 13 || e.code === \"Enter\" || e.key === \"Enter\") {\n      if (onSubmitCb) {\n        onSubmitCb();\n      }\n    }\n  };\n\n  return (\n    <div className=\"input-group\">\n      {title ? <label htmlFor={title}>{title}</label> : \"\"}\n      <input\n        disabled={disabled}\n        className=\"input\"\n        onKeyPress={onSubmitHandler}\n        id={title}\n        value={value}\n        onChange={onChangeHandler}\n        type={type}\n        {...props}\n      ></input>\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport \"./Button.scss\";\n\nexport const Button = ({\n  title,\n  className = \"\",\n  disabled,\n  type = \"button\",\n  onClick: onClickCb,\n}) => {\n  const { userLoading } = useContext(AuthContext);\n  return (\n    <button\n      disabled={userLoading || disabled}\n      className={`btn ${className} ${disabled ? \"btn--disabled\" : \"\"}`}\n      onClick={onClickCb}\n      type={type}\n    >\n      {title}\n    </button>\n  );\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Input } from \"../../components/Input/\";\nimport { Button } from \"../../components/Button\";\nimport \"./AuthPage.scss\";\n\nexport const AuthPage = () => {\n  const [email, setEmail] = useState(\"kode@kode.ru\");\n  const [password, setPassword] = useState(\"Enk0deng\");\n  const [secondFA, setSecondFA] = useState(\"\");\n  const [animation, setAnimation] = useState(false);\n  const [showHiddenElements, setShowHiddenElements] = useState(false);\n  const [error, setError] = useState(\"\");\n  const { tempUserData, login, logout, login2FA, userLoading } = useContext(\n    AuthContext\n  );\n\n  const toggleAnimation = () => {\n    setAnimation(true);\n    setTimeout(() => setAnimation(false), 500);\n  };\n\n  const loginHandler = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    setShowHiddenElements(true);\n    const result = await login(email, password);\n    if (result.success) {\n      toggleAnimation();\n      setShowHiddenElements(false);\n    } else {\n      setShowHiddenElements(false);\n      setError(result.error);\n    }\n  };\n\n  const login2FAHandler = async (e) => {\n    e.preventDefault();\n    setError(\"\");\n    const result = await login2FA(secondFA);\n    if (!result.success) {\n      setError(result.error);\n    }\n  };\n\n  const handleBackFrom2FABtn = async () => {\n    setShowHiddenElements(true);\n    await logout();\n    toggleAnimation();\n    setError(\"\");\n    setShowHiddenElements(false);\n  };\n\n  useEffect(() => !animation && requestAnimationFrame(() => document.querySelector('[data-autofocus]')?.focus()), [animation, error])\n\n  return (\n    <div className={`auth ${tempUserData ? \"auth-2fa\" : \"\"}`}>\n      {(!tempUserData || animation || showHiddenElements) && (\n         <form className=\"auth__wrapper auth__wrapper--login\" inert={animation} aria-hidden={animation} onSubmit={loginHandler}>\n          <div className=\"auth__inputs\">\n            <>\n              <Input\n                required\n                data-autofocus\n                disabled={userLoading}\n                title=\"Email\"\n                value={email}\n                type=\"email\"\n                onChange={setEmail}\n              />\n              <Input\n                required\n                disabled={userLoading}\n                title=\"Password\"\n                value={password}\n                type=\"password\"\n                onChange={setPassword}\n              />\n            </>\n          </div>\n          <div className=\"auth__error\" aria-live=\"polite\">{error ? error : \"\"}</div>\n          <div className=\"auth__tools\">\n            <Button\n              disabled={userLoading}\n              className=\"btn--success\"\n              title=\"Submit\"\n              type=\"submit\"\n            />\n          </div>\n        </form>\n      )}\n\n      {(tempUserData || animation || showHiddenElements) && (\n        <form className=\"auth__wrapper auth__wrapper--2fa\" inert={animation} aria-hidden={animation} onSubmit={login2FAHandler}>\n          <div className=\"auth__inputs\">\n            <Input\n              required\n              data-autofocus\n              minLength={6}\n              maxLength={6}\n              disabled={userLoading}\n              title=\"2FA Code\"\n              value={secondFA}\n              onChange={setSecondFA}\n            />\n          </div>\n          <div className=\"auth__error\" aria-live=\"polite\">{error ? error : \"\"}</div>\n          <div className=\"auth__tools\">\n            <Button\n              disabled={userLoading}\n              className=\"btn--dismiss\"\n              title=\"Back\"\n              onClick={handleBackFrom2FABtn}\n            />\n            <Button\n              disabled={userLoading}\n              className=\"btn--success\"\n              title=\"Submit\"\n              type=\"submit\"\n            />\n          </div>\n        </form>\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport \"./NavBar.scss\";\n\nexport const NavBar = ({ leftBtn, rightBtn }) => {\n  return (\n    <div className=\"navbar\">\n      {leftBtn} {rightBtn}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { NavBar } from \"../../components/NavBar\";\nimport \"./MainLayout.scss\";\n\nexport const MainLayout = ({ navbar, content }) => {\n  const navBarElement = navbar.enabled ? (\n    <NavBar\n      leftBtn={navbar.leftBtn || <div></div>}\n      rightBtn={navbar.rightBtn}\n    />\n  ) : (\n    <div></div>\n  );\n\n  return (\n    <div className=\"main\">\n      {navBarElement}\n      <div className=\"main__wrapper\">{content}</div>\n    </div>\n  );\n};\n","import React, { useState, useEffect } from \"react\";\nimport { Input } from \"../Input\";\nimport \"./Selector.scss\";\n\nexport const Selector = ({\n  arr,\n  choseCallback,\n  defaultValue = \"Не выбрано\",\n}) => {\n  const [filtered, setFiltered] = useState(arr);\n  const [isOpen, setIsOpen] = useState(false);\n  const [selected, setSelected] = useState(null);\n  const [inputValue, setInputValue] = useState(\"\");\n\n  useEffect(() => {\n    setFiltered((arr = arr?.length > 0 ? [null, ...arr] : [null]));\n  }, [arr]);\n\n  useEffect(() => {\n    filterArr(inputValue);\n  }, [inputValue, setInputValue]);\n\n  const filterArr = (value) => {\n    const filtered = arr.filter(\n      (a) => a?.toLowerCase().includes(value.toLowerCase()) || a === null\n    );\n    setFiltered([null, ...filtered]);\n  };\n\n  const toggleIsOpen = () => {\n    setIsOpen((v) => !v);\n  };\n\n  const chooseItem = (value) => {\n    if (value === selected) return toggleIsOpen();\n    toggleIsOpen();\n    setSelected(value);\n    if (choseCallback) {\n      choseCallback(value);\n    }\n  };\n\n  return (\n    <div className={`selector ${isOpen ? \"selector--active\" : \"\"}`}>\n      <div onClick={toggleIsOpen} className=\"selector__selected\">\n        {selected || defaultValue}\n      </div>\n      <ul className=\"selector__options\">\n        <Input value={inputValue} onChange={setInputValue} />\n        {filtered.map((item, i) => (\n          <li\n            key={`${item}-${i}`}\n            onClick={chooseItem.bind(null, item)}\n            className={`selector__item ${\n              selected === item ? \"selector__item--selected\" : \"\"\n            }`}\n          >\n            {item || defaultValue}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React from \"react\";\nimport \"./SideBar.scss\";\n\nexport const SideBar = ({ children }) => {\n  return <div className=\"sidebar\">{children}</div>;\n};\n","import React from \"react\";\nimport \"./Card.scss\";\n\nexport const Card = ({ card, onClick: onClickCb }) => {\n  return (\n    <div className=\"card\" onClick={onClickCb.bind(null, card)}>\n      <img alt={card.name} src={card.imageUrl} />\n      <div className=\"card__information\">\n        {card.name ? <p>Name - {card.name}</p> : \"\"}\n        {card.artist ? <p>Artist - {card.artist}</p> : \"\"}\n      </div>\n    </div>\n  );\n};\n","import React, { useContext } from \"react\";\nimport \"./CardsCatalog.scss\";\nimport { Card } from \"../Card\";\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport const CardsCatalog = ({\n  cards,\n  onCardClick: onCardClickCb,\n  pagination,\n}) => {\n  const { userLoading } = useContext(AuthContext);\n  return (\n    <div className=\"cards-catalog__wrapper\">\n      <div className=\"cards-catalog\">\n        {cards.length === 0 && !userLoading && \"No cards found :c\"}\n        {cards.map((card) => (\n          <Card onClick={onCardClickCb} key={card.id} card={card} />\n        ))}\n      </div>\n      {pagination}\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Button } from \"../Button\";\nimport \"./Modal.scss\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const Modal = ({ card, modalClose }) => {\n  const history = useHistory();\n\n  const modalCloseHandler = (e) => {\n    if (e.target === document.getElementById(\"modal\")) {\n      if (modalClose) {\n        modalClose();\n      }\n    }\n  };\n\n  const navigateToCardPage = (id) => {\n    history.push(`/card/${id}`);\n  };\n\n  return (\n    <div id=\"modal\" className=\"modal\" onClick={modalCloseHandler}>\n      <div className=\"modal__info\">\n        <div className=\"modal__img-container\">\n          <img alt={card.name} src={card.imageUrlHiRes}></img>\n        </div>\n        <div className=\"modal__about-information\">\n          <h1>{card.name}</h1>\n          <h2>{card.types}</h2>\n          <h2>{card.subtype}</h2>\n          <br />\n          {card.attacks?.map((a) => {\n            return (\n              <React.Fragment key={a.name}>\n                <p>\n                  <span>{a.name}</span> - <span>{a.damage}</span>\n                </p>\n                {a.cost?.map((c, i) => {\n                  return (\n                    <React.Fragment key={`${c}-${i}`}>\n                      <b> {c}</b>\n                      <br />\n                    </React.Fragment>\n                  );\n                })}\n                <br />\n              </React.Fragment>\n            );\n          })}\n          <div className=\"modal__close-btn\">\n            <Button className=\"btn--dismiss\" onClick={modalClose} title=\"×\" />\n          </div>\n          <div className=\"modal__away-btn\">\n            <Button\n              className=\"btn--success\"\n              onClick={navigateToCardPage.bind(null, card.id)}\n              title=\"More information...\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Button } from \"../Button\";\nimport \"./Pagination.scss\";\n\nexport const Pagination = ({\n  page,\n  disabled,\n  pageCount = 1,\n  setPage,\n  pageRange = 4,\n}) => {\n  const usePageRange = () => {\n    const arrOfPageNums = new Set([]);\n\n    let rightAvailable = pageCount - page;\n    let leftAvailable = page - 1;\n\n    let tempPage = page;\n    let half = Math.floor(pageRange / 2);\n\n    if (pageRange % 2 === 0) {\n      half--;\n    }\n\n    while (leftAvailable > 0 && half > 0) {\n      arrOfPageNums.add(--tempPage);\n      leftAvailable--;\n      half--;\n    }\n    tempPage = page;\n    half = half + Math.floor(pageRange / 2);\n    while (rightAvailable > 0 && half > 0) {\n      arrOfPageNums.add(++tempPage);\n      rightAvailable--;\n      half--;\n    }\n    tempPage = Math.min(...arrOfPageNums);\n    while (leftAvailable > 0 && half > 0) {\n      arrOfPageNums.add(--tempPage);\n      leftAvailable--;\n      half--;\n    }\n\n    arrOfPageNums.add(1);\n    arrOfPageNums.add(pageCount);\n    arrOfPageNums.add(page);\n\n    return Array.from(arrOfPageNums).sort((a, b) => a - b);\n  };\n\n  return (\n    <div className=\"pagination\">\n      <Button\n        className=\"btn--prev\"\n        disabled={page === 1 || disabled}\n        title=\"< Prev\"\n        onClick={setPage.bind(null, (v) => v - 1)}\n      />\n\n      <div className=\"pagination__page-nums\">\n        {usePageRange().map((num) => {\n          return (\n            num !== 0 && (\n              <Button\n                disabled={page === num || disabled}\n                title={num}\n                onClick={setPage.bind(null, num)}\n              />\n            )\n          );\n        })}\n      </div>\n\n      <Button\n        className=\"btn--next\"\n        disabled={page === pageCount || pageCount === 0 || disabled}\n        title=\"Next >\"\n        onClick={setPage.bind(null, (v) => v + 1)}\n      />\n    </div>\n  );\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Button } from \"../../components/Button\";\nimport { MainLayout } from \"../../layout/MainLayout\";\nimport { Selector } from \"../../components/Selector\";\nimport { SideBar } from \"../../components/SideBar\";\nimport { CardsCatalog } from \"../../components/CardsCatalog\";\nimport { Modal } from \"../../components/Modal\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { Pagination } from \"../../components/Pagination\";\nimport \"./CardsPage.scss\";\n\nexport const CardsPage = () => {\n  const { logout, fetchTypes, fetchCards, userLoading } = useContext(\n    AuthContext\n  );\n\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [pageCount, setPageCount] = useState(1);\n  const [type, setType] = useState(null);\n  const [subtype, setSubtype] = useState(null);\n\n  const [modal, setModal] = useState(false);\n  const [modalValue, setModalValue] = useState(null);\n\n  const [cardsArray, setCardsArray] = useState([]);\n  const [subTypesArray, setSubTypesArray] = useState([]);\n  const [typesArray, setTypesArray] = useState([]);\n\n  const asyncUseEffectFetchCards = async () => {\n    const data = await fetchCards(page, type, subtype, pageSize);\n    const json = await data.json();\n    const pageCnt = Math.ceil(data.headers.get(\"total-count\") / pageSize);\n    if (pageCnt === 0) {\n      setPageCount(1);\n    } else {\n      setPageCount(pageCnt);\n    }\n    setCardsArray(json.cards);\n  };\n\n  const asyncUseEffectFetchAllData = async () => {\n    const res = await fetchTypes();\n    setSubTypesArray(res[0].subtypes);\n    setTypesArray(res[1].types);\n  };\n\n  useEffect(() => {\n    asyncUseEffectFetchCards();\n  }, [page]);\n\n  useEffect(() => {\n    setPage(1);\n    asyncUseEffectFetchCards();\n  }, [type, subtype]);\n\n  useEffect(() => {\n    asyncUseEffectFetchAllData();\n  }, []);\n\n  const cardsPageNavbarSettings = {\n    enabled: true,\n    leftBtn: null,\n    rightBtn: (\n      <Button className={\"btn--dismiss\"} onClick={logout} title=\"Logout\" />\n    ),\n  };\n\n  const selectSubTypeHandler = (value) => {\n    setSubtype(value);\n  };\n\n  const selectTypeHandler = (value) => {\n    setType(value);\n  };\n\n  const onCardClickCb = (value) => {\n    setModal(true);\n    setModalValue(value);\n  };\n\n  const modalClose = () => {\n    setModal(false);\n  };\n\n  //   const onSelectType\n\n  return (\n    <>\n      <MainLayout\n        navbar={cardsPageNavbarSettings}\n        content={\n          <>\n            <SideBar>\n              <Selector\n                arr={typesArray}\n                defaultValue={\"Type\"}\n                choseCallback={selectTypeHandler}\n              />\n              <Selector\n                arr={subTypesArray}\n                defaultValue={\"Subtype\"}\n                choseCallback={selectSubTypeHandler}\n              />\n            </SideBar>\n            <CardsCatalog\n              pagination={\n                <Pagination\n                  disabled={userLoading}\n                  page={page}\n                  pageCount={pageCount}\n                  setPage={setPage}\n                />\n              }\n              onCardClick={onCardClickCb}\n              cards={cardsArray}\n            />\n          </>\n        }\n      />\n      {modal && modalValue && (\n        <Modal card={modalValue} modalClose={modalClose} />\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport \"./SingleCard.scss\";\n\nexport const SingleCard = ({ card }) => {\n  return (\n    <div className=\"single-card\">\n      <div className=\"single-card__info\">\n        <div className=\"single-card__img-container\">\n          <img alt={card.name} src={card.imageUrlHiRes} />\n        </div>\n        <div className=\"single-card__about-information\">\n          <h1> {card.name}</h1>\n          <h2> {card.types}</h2>\n          <h2> {card.subtype}</h2>\n\n          {card.attacks?.length > 0 && (\n            <>\n              <div className=\"single-card__attacks\">\n                <h4 style={{ textAlign: \"center\", padding: \"1rem\" }}>\n                  Attacks:\n                </h4>\n                {card.attacks?.map((a) => {\n                  return (\n                    <div key={a.name} className=\"attack\">\n                      <p className=\"attack__title\">\n                        {a.name} Deals{\" \"}\n                        <span className=\"attack__damage\">\n                          {a.damage || 0} damage\n                        </span>\n                      </p>\n                      {a.cost?.length !== 0 && <p>And costs:</p>}\n                      {a.cost?.map((c, i) => {\n                        return (\n                          <p key={`${c}-${i}`} className=\"attack__cost\">\n                            - {c}\n                          </p>\n                        );\n                      })}\n                      {a.text && <p className=\"attack__text\">{a.text}</p>}\n                    </div>\n                  );\n                })}\n              </div>\n            </>\n          )}\n\n          {card.resistances?.length > 0 && (\n            <>\n              <div className=\"single-card__resistances\">\n                <h4 style={{ textAlign: \"center\", padding: \"1rem\" }}>\n                  Resistances:\n                </h4>\n                {card.resistances?.map((r) => {\n                  return (\n                    <div key={r.type} className=\"resistance\">\n                      <p className=\"resistance-type\">{r.type} </p>\n                      <span className=\"resistance-value\">{r.value}</span>\n                    </div>\n                  );\n                })}\n              </div>\n            </>\n          )}\n\n          {card.evolvesFrom ? (\n            <div className=\"single-card__evolves\">\n              Evolves From {card.evolvesFrom}\n            </div>\n          ) : (\n            \"\"\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport \"./SingleCardPage.scss\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { MainLayout } from \"../../layout/MainLayout\";\nimport { Button } from \"../../components/Button\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { SingleCard } from \"../../components/SingleCard\";\n\nexport const SingleCardPage = () => {\n  const { logout, fetchSingleCard } = useContext(AuthContext);\n  const { id } = useParams();\n  const history = useHistory();\n\n  const [singleCard, setSingleCard] = useState(null);\n\n  useEffect(() => {\n    async function asyncUseEffect() {\n      const data = await fetchSingleCard(id);\n      setSingleCard(data.card);\n    }\n    asyncUseEffect();\n  }, []);\n\n  const singleCardPageNavbarSettings = {\n    enabled: true,\n    leftBtn: <Button onClick={history.goBack.bind(null)} title=\"< Back\" />,\n    rightBtn: (\n      <Button className={\"btn--dismiss\"} onClick={logout} title=\"Logout\" />\n    ),\n  };\n\n  return (\n    <MainLayout\n      navbar={singleCardPageNavbarSettings}\n      content={singleCard !== null && <SingleCard card={singleCard} />}\n    />\n  );\n};\n","import React from \"react\";\nimport \"./Loading.scss\";\n\nexport const Loading = () => {\n  return (\n    <>\n      <div className=\"loadingio-spinner-dual-ring-vi7ovl4y53r\">\n        <div className=\"ldio-wjqcydmmwvd\">\n          <div></div>\n          <div>\n            <div></div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { useState, useMemo } from \"react\";\nimport \"./App.scss\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { validateLogin, validate2FA, validateLogout } from \"../../utils\";\nimport { useRoutes } from \"../../routes\";\nimport { Loading } from \"../Loading\";\n\nexport const App = () => {\n  const storageName = \"userInfo\";\n  let localUser = JSON.parse(localStorage.getItem(storageName));\n  localUser =\n    localUser?.email && localUser?.password && localUser.token\n      ? localUser\n      : null;\n  const isTokenValid = localUser && Date.now() < localUser.token;\n  const [user, setUser] = useState(\n    isTokenValid && localUser ? localUser : null\n  );\n  const [isAuthenticated, setIsAuthenticated] = useState(\n    isTokenValid && localUser ? true : false\n  );\n  const [userLoading, setUserLoading] = useState(false);\n\n  const [tempUserData, setTempUserData] = useState(null); // Если человек прошел 1 шаг логина\n\n  const routes = useRoutes(isAuthenticated);\n\n  const login = async (email, password) => {\n    setUserLoading(true);\n    const isLoginValid = await validateLogin(email, password);\n    setUserLoading(false);\n\n    if (isLoginValid.success) {\n      setTempUserData({ email, password });\n      return { success: true };\n    } else {\n      return isLoginValid;\n      // Login failed\n    }\n  };\n\n  const login2FA = async (num) => {\n    setUserLoading(true);\n    const is2FAValid = await validate2FA(num);\n    setUserLoading(false);\n    if (is2FAValid.success) {\n      setIsAuthenticated(true);\n      setUser(tempUserData);\n      setTempUserData(null);\n      localStorage.setItem(\n        storageName,\n        JSON.stringify({ ...tempUserData, token: is2FAValid.token })\n      );\n      return { success: true };\n    } else {\n      return is2FAValid;\n    }\n  };\n\n  const logout = async () => {\n    setUserLoading(true);\n    const loggedOut = await validateLogout();\n    setUserLoading(false);\n    if (loggedOut.success) {\n      setIsAuthenticated(false);\n      setUser(null);\n      setTempUserData(null);\n      localStorage.removeItem(storageName);\n    }\n  };\n\n  const fetchCards = async (page = 1, type, subtype, pageSize = 10) => {\n    setUserLoading(true);\n    const data = await fetch(\n      `https://api.pokemontcg.io/v1/cards?page=${page}&pageSize=${pageSize}${\n        type ? `&types=${type}` : \"\"\n      }${subtype ? `&subtype=${subtype}` : \"\"}`\n    );\n    setUserLoading(false);\n    return data;\n  };\n\n  const fetchTypes = async () => {\n    setUserLoading(true);\n    let promiseType = fetch(\"https://api.pokemontcg.io/v1/types\");\n    let promiseSubType = fetch(\"https://api.pokemontcg.io/v1/subtypes\");\n\n    const res = await Promise.all([promiseSubType, promiseType]);\n    const json = await Promise.all(res.map((r) => r?.json()));\n    setUserLoading(false);\n    return json;\n  };\n\n  const fetchSingleCard = async (id) => {\n    setUserLoading(true);\n    const data = await fetch(`https://api.pokemontcg.io/v1/cards/${id}`);\n    const json = await data.json();\n    setUserLoading(false);\n    return json;\n  };\n\n  const provider = useMemo(\n    () => ({\n      isAuthenticated,\n      user,\n      userLoading,\n      tempUserData,\n      login2FA,\n      logout,\n      login,\n      fetchTypes,\n      fetchCards,\n      fetchSingleCard,\n    }),\n    [\n      isAuthenticated,\n      user,\n      userLoading,\n      tempUserData,\n      login2FA,\n      logout,\n      login,\n      fetchTypes,\n      fetchCards,\n      fetchSingleCard,\n    ]\n  );\n\n  return (\n    <AuthContext.Provider value={provider}>\n      {userLoading && (\n        <div className=\"loading\">\n          <Loading />\n        </div>\n      )}\n      <div className=\"app\">{routes}</div>\n    </AuthContext.Provider>\n  );\n};\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { AuthPage } from \"./pages/AuthPage\";\nimport { CardsPage } from \"./pages/CardsPage\";\nimport { SingleCardPage } from \"./pages/SingleCardPage\";\n\nexport const useRoutes = (isAuthenticated) => {\n  if (isAuthenticated) {\n    return (\n      <Switch>\n        <Route exact path=\"/cards\" component={CardsPage} />\n        <Route exact path=\"/card/:id\" component={SingleCardPage} />\n        <Redirect to=\"/cards\" />\n      </Switch>\n    );\n  } else {\n    return (\n      <Switch>\n        <Route exact path=\"/auth\" component={AuthPage}></Route>\n        <Redirect to=\"/auth\" />\n      </Switch>\n    );\n  }\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./scss/index.scss\";\nimport { App } from \"./components/App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}