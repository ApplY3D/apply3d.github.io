{"version":3,"sources":["context/AuthContext.js","utils.js","components/Input/Input.js","components/Button/Button.js","pages/AuthPage/AuthPage.js","components/NavBar/NavBar.js","layout/MainLayout/MainLayout.js","components/Selector/Selector.js","components/SideBar/SideBar.js","components/Card/Card.js","components/CardsCatalog/CardsCatalog.js","components/Modal/Modal.js","components/Pagination/Pagination.js","pages/CardsPage/CardsPage.js","components/SingleCard/SingleCard.js","pages/SingleCardPage/SingleCardPage.js","components/Loading/Loading.js","components/App/App.js","routes.js","index.js"],"names":["AuthContext","createContext","delay","ms","Promise","resolve","setTimeout","validateLogin","email","password","a","trim","toLowerCase","success","error","validate2FA","num","toString","length","parseInt","token","Date","now","validateLogout","Input","title","disabled","value","type","onChangeCb","onChange","onSubmitCb","onSubmit","className","htmlFor","onKeyPress","e","keyCode","code","key","id","target","Button","onClickCb","onClick","userLoading","useContext","AuthPage","useState","setEmail","setPassword","secondFA","setSecondFA","animation","setAnimation","showHiddenElements","setShowHiddenElements","setError","tempUserData","login","logout","login2FA","toggleAnimation","loginHandler","result","login2FAHandler","handleBackFrom2FABtn","NavBar","leftBtn","rightBtn","MainLayout","navbar","content","navBarElement","enabled","Selector","arr","choseCallback","defaultValue","filtered","setFiltered","isOpen","setIsOpen","selected","setSelected","inputValue","setInputValue","useEffect","filterArr","filter","includes","toggleIsOpen","v","chooseItem","map","item","i","bind","SideBar","children","Card","card","alt","name","src","imageUrl","artist","CardsCatalog","cards","onCardClickCb","onCardClick","pagination","Modal","modalClose","history","useHistory","document","getElementById","imageUrlHiRes","types","subtype","attacks","Fragment","damage","cost","c","push","Pagination","page","pageCount","setPage","pageRange","arrOfPageNums","Set","rightAvailable","leftAvailable","tempPage","half","Math","floor","add","min","Array","from","sort","b","usePageRange","CardsPage","fetchTypes","fetchCards","pageSize","setPageCount","setType","setSubtype","modal","setModal","modalValue","setModalValue","cardsArray","setCardsArray","subTypesArray","setSubTypesArray","typesArray","setTypesArray","asyncUseEffectFetchCards","data","json","pageCnt","ceil","headers","get","asyncUseEffectFetchAllData","res","subtypes","cardsPageNavbarSettings","SingleCard","style","textAlign","padding","text","resistances","r","evolvesFrom","SingleCardPage","fetchSingleCard","useParams","singleCard","setSingleCard","asyncUseEffect","singleCardPageNavbarSettings","goBack","Loading","App","localUser","JSON","parse","localStorage","getItem","isTokenValid","user","setUser","isAuthenticated","setIsAuthenticated","setUserLoading","setTempUserData","routes","exact","path","component","to","useRoutes","isLoginValid","is2FAValid","setItem","stringify","loggedOut","removeItem","fetch","promiseType","promiseSubType","all","provider","useMemo","Provider","ReactDOM","render","StrictMode"],"mappings":"8iBAIO,IAAMA,EAAcC,wBAAc,ICJ5BC,EAAQ,SAACC,GAAD,OAAQ,IAAIC,SAAQ,SAACC,GAAD,OAAaC,WAAWD,EAASF,OAE7DI,EAAa,uCAAG,WAAOC,EAAOC,GAAd,SAAAC,EAAA,sEACrBR,EAAM,KADe,gCAEY,kBAA3B,OAALM,QAAK,IAALA,OAAA,EAAAA,EAAOG,OAAOC,gBACN,aAAbH,EACE,CAAEI,SAAS,GACX,CAAEA,SAAS,EAAOC,MAAO,sBALF,2CAAH,wDAQbC,EAAW,uCAAG,WAAOC,GAAP,SAAAN,EAAA,sEACnBR,EAAM,KADa,gCAES,KAAxB,OAAHc,QAAG,IAAHA,OAAA,EAAAA,EAAKC,WAAWC,UAClB,OAAHF,QAAG,IAAHA,OAAA,EAAAA,EAAKC,cAAeE,SAASH,GAAKC,WAChC,CAAEJ,SAAS,EAAMO,MAAOC,KAAKC,MAAQ,QACrC,CAAET,SAAS,EAAOC,MAAO,yBALJ,2CAAH,sDAQXS,EAAc,uCAAG,sBAAAb,EAAA,sEACtBR,EAAM,IADgB,gCAErB,CAAEW,SAAS,IAFU,2CAAH,qD,OCfdW,G,MAAQ,SAAC,GAOf,IANLC,EAMI,EANJA,MACAC,EAKI,EALJA,SACAC,EAII,EAJJA,MAII,IAHJC,YAGI,MAHG,OAGH,EAFMC,EAEN,EAFJC,SACUC,EACN,EADJC,SAgBA,OACE,yBAAKC,UAAU,eACZR,EAAQ,2BAAOS,QAAST,GAAQA,GAAiB,GAClD,2BACEC,SAAUA,EACVO,UAAU,QACVE,WAdkB,SAACC,GACL,KAAdA,EAAEC,SAA6B,UAAXD,EAAEE,MAA8B,UAAVF,EAAEG,KAC1CR,GACFA,KAYAS,GAAIf,EACJE,MAAOA,EACPG,SAvBkB,SAACM,GACnBP,GACFA,EAAWO,EAAEK,OAAOd,QAsBlBC,KAAMA,OC/BDc,G,MAAS,SAAC,GAKhB,IAJLjB,EAII,EAJJA,MAII,IAHJQ,iBAGI,MAHQ,GAGR,EAFJP,EAEI,EAFJA,SACSiB,EACL,EADJC,QAEQC,EAAgBC,qBAAW9C,GAA3B6C,YACR,OACE,4BACEnB,SAAUmB,GAAenB,EACzBO,UAAS,cAASA,EAAT,YAAsBP,EAAW,gBAAkB,IAC5DkB,QAASD,GAERlB,KCXMsB,G,MAAW,WAAO,IAAD,EACFC,mBAAS,gBADP,mBACrBxC,EADqB,KACdyC,EADc,OAEID,mBAAS,YAFb,mBAErBvC,EAFqB,KAEXyC,EAFW,OAGIF,mBAAS,IAHb,mBAGrBG,EAHqB,KAGXC,EAHW,OAIMJ,oBAAS,GAJf,mBAIrBK,EAJqB,KAIVC,EAJU,OAKwBN,oBAAS,GALjC,mBAKrBO,EALqB,KAKDC,EALC,OAMFR,mBAAS,IANP,mBAMrBlC,EANqB,KAMd2C,EANc,OAOmCX,qBAC7D9C,GADM0D,EAPoB,EAOpBA,aAAcC,EAPM,EAONA,MAAOC,EAPD,EAOCA,OAAQC,EAPT,EAOSA,SAAUhB,EAPnB,EAOmBA,YAIzCiB,EAAkB,WACtBR,GAAa,GACbhD,YAAW,kBAAMgD,GAAa,KAAQ,MAGlCS,EAAY,uCAAG,4BAAArD,EAAA,6DACnB+C,EAAS,IACTD,GAAsB,GAFH,SAGEG,EAAMnD,EAAOC,GAHf,QAGbuD,EAHa,QAIRnD,SACTiD,IACAN,GAAsB,KAEtBA,GAAsB,GACtBC,EAASO,EAAOlD,QATC,2CAAH,qDAaZmD,EAAe,uCAAG,4BAAAvD,EAAA,6DACtB+C,EAAS,IADa,SAEDI,EAASV,GAFR,QAEhBa,EAFgB,QAGVnD,SACV4C,EAASO,EAAOlD,OAJI,2CAAH,qDAQfoD,EAAoB,uCAAG,sBAAAxD,EAAA,6DAC3B8C,GAAsB,GADK,SAErBI,IAFqB,OAG3BE,IACAL,EAAS,IACTD,GAAsB,GALK,2CAAH,qDAQ1B,OACE,yBAAKvB,UAAS,eAAUyB,EAAe,WAAa,OAC/CA,GAAgBL,GAAaE,IAC9B,yBAAKtB,UAAU,sCACb,yBAAKA,UAAU,gBACb,oCACE,kBAAC,EAAD,CACEP,SAAUmB,EACVpB,MAAM,QACNE,MAAOnB,EACPsB,SAAUmB,EACVjB,SAAU+B,IAEZ,kBAAC,EAAD,CACErC,SAAUmB,EACVpB,MAAM,WACNE,MAAOlB,EACPmB,KAAK,WACLE,SAAUoB,EACVlB,SAAU+B,MAIhB,yBAAK9B,UAAU,eAAenB,GAAgB,IAC9C,yBAAKmB,UAAU,eACb,kBAAC,EAAD,CACEP,SAAUmB,EACVZ,UAAU,eACVR,MAAM,SACNmB,QAASmB,OAMfL,GAAgBL,GAAaE,IAC7B,yBAAKtB,UAAU,oCACb,yBAAKA,UAAU,gBACb,kBAAC,EAAD,CACEP,SAAUmB,EACVpB,MAAM,WACNE,MAAOwB,EACPrB,SAAUsB,EACVpB,SAAUiC,KAGd,yBAAKhC,UAAU,eAAenB,GAAgB,IAC9C,yBAAKmB,UAAU,eACb,kBAAC,EAAD,CACEP,SAAUmB,EACVZ,UAAU,eACVR,MAAM,OACNmB,QAASsB,IAEX,kBAAC,EAAD,CACExC,SAAUmB,EACVZ,UAAU,eACVR,MAAM,SACNmB,QAASqB,SC1GVE,G,MAAS,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,QAASC,EAAe,EAAfA,SAChC,OACE,yBAAKpC,UAAU,UACZmC,EADH,IACaC,KCFJC,G,MAAa,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC7BC,EAAgBF,EAAOG,QAC3B,kBAAC,EAAD,CACEN,QAASG,EAAOH,SAAW,8BAC3BC,SAAUE,EAAOF,WAGnB,8BAGF,OACE,yBAAKpC,UAAU,QACZwC,EACD,yBAAKxC,UAAU,iBAAiBuC,M,QCbzBG,G,MAAW,SAAC,GAIlB,IAHLC,EAGI,EAHJA,IACAC,EAEI,EAFJA,cAEI,IADJC,oBACI,MADW,0DACX,IAC4B9B,mBAAS4B,GADrC,mBACGG,EADH,KACaC,EADb,OAEwBhC,oBAAS,GAFjC,mBAEGiC,EAFH,KAEWC,EAFX,OAG4BlC,mBAAS,MAHrC,mBAGGmC,EAHH,KAGaC,EAHb,OAIgCpC,mBAAS,IAJzC,mBAIGqC,EAJH,KAIeC,EAJf,KAMJC,qBAAU,WAAO,IAAD,EACdP,EAAaJ,GAAS,QAAH,EAAAA,SAAA,eAAK1D,QAAS,EAAd,CAAmB,MAAnB,mBAA4B0D,IAAO,CAAC,SACtD,CAACA,IAEJW,qBAAU,WACRC,EAAUH,KACT,CAACA,EAAYC,IAEhB,IAAME,EAAY,SAAC7D,GACjB,IAAMoD,EAAWH,EAAIa,QACnB,SAAC/E,GAAD,OAAQ,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAGE,cAAc8E,SAAS/D,EAAMf,iBAAwB,OAANF,KAE3DsE,EAAY,CAAC,MAAF,mBAAWD,MAGlBY,EAAe,WACnBT,GAAU,SAACU,GAAD,OAAQA,MAGdC,EAAa,SAAClE,GAClB,GAAIA,IAAUwD,EAAU,OAAOQ,IAC/BA,IACAP,EAAYzD,GACRkD,GACFA,EAAclD,IAIlB,OACE,yBAAKM,UAAS,mBAAcgD,EAAS,mBAAqB,KACxD,yBAAKrC,QAAS+C,EAAc1D,UAAU,sBACnCkD,GAAYL,GAEf,wBAAI7C,UAAU,qBACZ,kBAAC,EAAD,CAAON,MAAO0D,EAAYvD,SAAUwD,IACnCP,EAASe,KAAI,SAACC,EAAMC,GAAP,OACZ,wBACEzD,IAAG,UAAKwD,EAAL,YAAaC,GAChBpD,QAASiD,EAAWI,KAAK,KAAMF,GAC/B9D,UAAS,yBACPkD,IAAaY,EAAO,2BAA6B,KAGlDA,GAAQjB,UCtDRoB,G,MAAU,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACxB,OAAO,yBAAKlE,UAAU,WAAWkE,KCDtBC,G,YAAO,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,KAAe1D,EAAgB,EAAzBC,QAC3B,OACE,yBAAKX,UAAU,OAAOW,QAASD,EAAUsD,KAAK,KAAMI,IAClD,yBAAKC,IAAKD,EAAKE,KAAMC,IAAKH,EAAKI,WAC/B,yBAAKxE,UAAU,qBACZoE,EAAKE,KAAO,qCAAWF,EAAKE,MAAY,GACxCF,EAAKK,OAAS,uCAAaL,EAAKK,QAAc,OCJ1CC,EAAe,SAAC,GAItB,IAHLC,EAGI,EAHJA,MACaC,EAET,EAFJC,YACAC,EACI,EADJA,WAEQlE,EAAgBC,qBAAW9C,GAA3B6C,YACR,OACE,yBAAKZ,UAAU,0BACb,yBAAKA,UAAU,iBACK,IAAjB2E,EAAM1F,SAAiB2B,GAAe,oBACtC+D,EAAMd,KAAI,SAACO,GAAD,OACT,kBAAC,EAAD,CAAMzD,QAASiE,EAAetE,IAAK8D,EAAK7D,GAAI6D,KAAMA,QAGrDU,ICdMC,G,MAAQ,SAAC,GAA0B,IAAD,EAAvBX,EAAuB,EAAvBA,KAAMY,EAAiB,EAAjBA,WACtBC,EAAUC,cAchB,OACE,yBAAK3E,GAAG,QAAQP,UAAU,QAAQW,QAbV,SAACR,GACrBA,EAAEK,SAAW2E,SAASC,eAAe,UACnCJ,GACFA,MAWF,yBAAKhF,UAAU,eACb,yBAAKA,UAAU,wBACb,yBAAKqE,IAAKD,EAAKE,KAAMC,IAAKH,EAAKiB,iBAEjC,yBAAKrF,UAAU,4BACb,4BAAKoE,EAAKE,MACV,4BAAKF,EAAKkB,OACV,4BAAKlB,EAAKmB,SACV,6BAJF,UAKGnB,EAAKoB,eALR,aAKG,EAAc3B,KAAI,SAACpF,GAAO,IAAD,EACxB,OACE,kBAAC,IAAMgH,SAAP,CAAgBnF,IAAK7B,EAAE6F,MACrB,2BACE,8BAAO7F,EAAE6F,MADX,MAC0B,8BAAO7F,EAAEiH,SAFrC,UAIGjH,EAAEkH,YAJL,aAIG,EAAQ9B,KAAI,SAAC+B,EAAG7B,GACf,OACE,kBAAC,IAAM0B,SAAP,CAAgBnF,IAAG,UAAKsF,EAAL,YAAU7B,IAC3B,+BAAK6B,GACL,iCAIN,iCAIN,yBAAK5F,UAAU,oBACb,kBAAC,EAAD,CAAQA,UAAU,eAAeW,QAASqE,EAAYxF,MAAM,UAE9D,yBAAKQ,UAAU,mBACb,kBAAC,EAAD,CACEA,UAAU,eACVW,QAvCe,SAACJ,GAC1B0E,EAAQY,KAAR,gBAAsBtF,KAsCgByD,KAAK,KAAMI,EAAK7D,IAC5Cf,MAAM,8BCpDPsG,G,MAAa,SAAC,GAMpB,IALLC,EAKI,EALJA,KACAtG,EAII,EAJJA,SAII,IAHJuG,iBAGI,MAHQ,EAGR,EAFJC,EAEI,EAFJA,QAEI,IADJC,iBACI,MADQ,EACR,EAwCJ,OACE,yBAAKlG,UAAU,cACb,kBAAC,EAAD,CACEA,UAAU,YACVP,SAAmB,IAATsG,GAActG,EACxBD,MAAM,SACNmB,QAASsF,EAAQjC,KAAK,MAAM,SAACL,GAAD,OAAOA,EAAI,OAGzC,yBAAK3D,UAAU,yBAhDE,WACnB,IAAMmG,EAAgB,IAAIC,IAAI,IAE1BC,EAAiBL,EAAYD,EAC7BO,EAAgBP,EAAO,EAEvBQ,EAAWR,EACXS,EAAOC,KAAKC,MAAMR,EAAY,GAMlC,IAJIA,EAAY,IAAM,GACpBM,IAGKF,EAAgB,GAAKE,EAAO,GACjCL,EAAcQ,MAAMJ,GACpBD,IACAE,IAIF,IAFAD,EAAWR,EACXS,GAAcC,KAAKC,MAAMR,EAAY,GAC9BG,EAAiB,GAAKG,EAAO,GAClCL,EAAcQ,MAAMJ,GACpBF,IACAG,IAGF,IADAD,EAAWE,KAAKG,IAAL,MAAAH,KAAI,YAAQN,IAChBG,EAAgB,GAAKE,EAAO,GACjCL,EAAcQ,MAAMJ,GACpBD,IACAE,IAOF,OAJAL,EAAcQ,IAAI,GAClBR,EAAcQ,IAAIX,GAClBG,EAAcQ,IAAIZ,GAEXc,MAAMC,KAAKX,GAAeY,MAAK,SAACtI,EAAGuI,GAAJ,OAAUvI,EAAIuI,KAa/CC,GAAepD,KAAI,SAAC9E,GACnB,OACU,IAARA,GACE,kBAAC,EAAD,CACEU,SAAUsG,IAAShH,GAAOU,EAC1BD,MAAOT,EACP4B,QAASsF,EAAQjC,KAAK,KAAMjF,SAOtC,kBAAC,EAAD,CACEiB,UAAU,YACVP,SAAUsG,IAASC,GAA2B,IAAdA,GAAmBvG,EACnDD,MAAM,SACNmB,QAASsF,EAAQjC,KAAK,MAAM,SAACL,GAAD,OAAOA,EAAI,UClElCuD,G,MAAY,WAAO,IAAD,EAC2BrG,qBACtD9C,GADM4D,EADqB,EACrBA,OAAQwF,EADa,EACbA,WAAYC,EADC,EACDA,WAAYxG,EADX,EACWA,YADX,EAKLG,mBAAS,GALJ,mBAKtBgF,EALsB,KAKhBE,EALgB,OAMGlF,mBAAS,IANZ,mBAMtBsG,EANsB,aAOKtG,mBAAS,IAPd,mBAOtBiF,EAPsB,KAOXsB,EAPW,OAQLvG,mBAAS,MARJ,mBAQtBpB,EARsB,KAQhB4H,EARgB,OASCxG,mBAAS,MATV,mBAStBwE,EATsB,KASbiC,EATa,OAWHzG,oBAAS,GAXN,mBAWtB0G,EAXsB,KAWfC,EAXe,OAYO3G,mBAAS,MAZhB,mBAYtB4G,EAZsB,KAYVC,EAZU,OAcO7G,mBAAS,IAdhB,mBActB8G,EAdsB,KAcVC,EAdU,OAea/G,mBAAS,IAftB,mBAetBgH,EAfsB,KAePC,EAfO,OAgBOjH,mBAAS,IAhBhB,oBAgBtBkH,GAhBsB,MAgBVC,GAhBU,MAkBvBC,GAAwB,uCAAG,gCAAA1J,EAAA,sEACZ2I,EAAWrB,EAAMpG,EAAM4F,EAAS8B,GADpB,cACzBe,EADyB,gBAEZA,EAAKC,OAFO,OAEzBA,EAFyB,OAGzBC,EAAU7B,KAAK8B,KAAKH,EAAKI,QAAQC,IAAI,eAAiBpB,GAE1DC,EADc,IAAZgB,EACW,EAEAA,GAEfR,EAAcO,EAAK1D,OATY,2CAAH,qDAYxB+D,GAA0B,uCAAG,4BAAAjK,EAAA,sEACf0I,IADe,OAC3BwB,EAD2B,OAEjCX,EAAiBW,EAAI,GAAGC,UACxBV,GAAcS,EAAI,GAAGrD,OAHY,2CAAH,qDAMhChC,qBAAU,WACR6E,OACC,CAACpC,IAEJzC,qBAAU,WACR2C,EAAQ,GACRkC,OACC,CAACxI,EAAM4F,IAEVjC,qBAAU,WACRoF,OACC,IAEH,IAAMG,GAA0B,CAC9BpG,SAAS,EACTN,QAAS,KACTC,SACE,kBAAC,EAAD,CAAQpC,UAAW,eAAgBW,QAASgB,EAAQnC,MAAM,YAuB9D,OACE,oCACE,kBAAC,EAAD,CACE8C,OAAQuG,GACRtG,QACE,oCACE,kBAAC,EAAD,KACE,kBAAC,EAAD,CACEI,IAAKsF,GACLpF,aAAc,OACdD,cAzBY,SAAClD,GACzB6H,EAAQ7H,MA0BE,kBAAC,EAAD,CACEiD,IAAKoF,EACLlF,aAAc,UACdD,cAlCe,SAAClD,GAC5B8H,EAAW9H,OAoCH,kBAAC,EAAD,CACEoF,WACE,kBAAC,EAAD,CACErF,SAAUmB,EACVmF,KAAMA,EACNC,UAAWA,EACXC,QAASA,IAGbpB,YAtCU,SAACnF,GACrBgI,GAAS,GACTE,EAAclI,IAqCJiF,MAAOkD,OAKdJ,GAASE,GACR,kBAAC,EAAD,CAAOvD,KAAMuD,EAAY3C,WAxCZ,WACjB0C,GAAS,SC/EAoB,G,YAAa,SAAC,GAAc,IAAD,QAAX1E,EAAW,EAAXA,KAC3B,OACE,yBAAKpE,UAAU,eACb,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,8BACb,yBAAKqE,IAAKD,EAAKE,KAAMC,IAAKH,EAAKiB,iBAEjC,yBAAKrF,UAAU,kCACb,gCAAMoE,EAAKE,MACX,gCAAMF,EAAKkB,OACX,gCAAMlB,EAAKmB,UAEV,UAAAnB,EAAKoB,eAAL,eAAcvG,QAAS,GACtB,oCACE,yBAAKe,UAAU,wBACb,wBAAI+I,MAAO,CAAEC,UAAW,SAAUC,QAAS,SAA3C,YADF,UAIG7E,EAAKoB,eAJR,aAIG,EAAc3B,KAAI,SAACpF,GAAO,IAAD,IACxB,OACE,yBAAK6B,IAAK7B,EAAE6F,KAAMtE,UAAU,UAC1B,uBAAGA,UAAU,iBACVvB,EAAE6F,KADL,SACiB,IACf,0BAAMtE,UAAU,kBACbvB,EAAEiH,QAAU,EADf,YAIkB,KAAnB,UAAAjH,EAAEkH,YAAF,eAAQ1G,SAAgB,yCAP3B,UAQGR,EAAEkH,YARL,aAQG,EAAQ9B,KAAI,SAAC+B,EAAG7B,GACf,OACE,uBAAGzD,IAAG,UAAKsF,EAAL,YAAU7B,GAAK/D,UAAU,gBAA/B,KACK4F,MAIRnH,EAAEyK,MAAQ,uBAAGlJ,UAAU,gBAAgBvB,EAAEyK,aAQrD,UAAA9E,EAAK+E,mBAAL,eAAkBlK,QAAS,GAC1B,oCACE,yBAAKe,UAAU,4BACb,wBAAI+I,MAAO,CAAEC,UAAW,SAAUC,QAAS,SAA3C,gBADF,UAIG7E,EAAK+E,mBAJR,aAIG,EAAkBtF,KAAI,SAACuF,GACtB,OACE,yBAAK9I,IAAK8I,EAAEzJ,KAAMK,UAAU,cAC1B,uBAAGA,UAAU,mBAAmBoJ,EAAEzJ,KAAlC,KACA,0BAAMK,UAAU,oBAAoBoJ,EAAE1J,aAQjD0E,EAAKiF,YACJ,yBAAKrJ,UAAU,wBAAf,gBACgBoE,EAAKiF,aAGrB,QC7DCC,EAAiB,WAAO,IAAD,EACEzI,qBAAW9C,GAAvC4D,EAD0B,EAC1BA,OAAQ4H,EADkB,EAClBA,gBACRhJ,EAAOiJ,cAAPjJ,GACF0E,EAAUC,cAHkB,EAKEnE,mBAAS,MALX,mBAK3B0I,EAL2B,KAKfC,EALe,KAOlCpG,qBAAU,WAAM,4CACd,4BAAA7E,EAAA,sEACqB8K,EAAgBhJ,GADrC,OACQ6H,EADR,OAEEsB,EAActB,EAAKhE,MAFrB,4CADc,uBAAC,WAAD,wBAKduF,KACC,IAEH,IAAMC,EAA+B,CACnCnH,SAAS,EACTN,QAAS,kBAAC,EAAD,CAAQxB,QAASsE,EAAQ4E,OAAO7F,KAAK,MAAOxE,MAAM,WAC3D4C,SACE,kBAAC,EAAD,CAAQpC,UAAW,eAAgBW,QAASgB,EAAQnC,MAAM,YAI9D,OACE,kBAAC,EAAD,CACE8C,OAAQsH,EACRrH,QAAwB,OAAfkH,GAAuB,kBAAC,EAAD,CAAYrF,KAAMqF,OC/B3CK,G,MAAU,WACrB,OACE,oCACE,yBAAK9J,UAAU,2CACb,yBAAKA,UAAU,oBACb,8BACA,6BACE,oCCHC+J,EAAM,WAAO,IAAD,IAEnBC,EAAYC,KAAKC,MAAMC,aAAaC,QADpB,aAMdC,GAJNL,GACW,QAAT,EAAAA,SAAA,eAAWzL,SAAX,UAAoByL,SAApB,aAAoB,EAAWxL,WAAYwL,EAAU7K,MACjD6K,EACA,OAC4B5K,KAAKC,MAAQ2K,EAAU7K,MAPlC,EAQC4B,mBACtBsJ,GAAgBL,EAAYA,EAAY,MATnB,mBAQhBM,EARgB,KAQVC,EARU,OAWuBxJ,sBAC5CsJ,IAAgBL,IAZK,mBAWhBQ,EAXgB,KAWCC,EAXD,OAce1J,oBAAS,GAdxB,mBAchBH,EAdgB,KAcH8J,EAdG,OAgBiB3J,mBAAS,MAhB1B,mBAgBhBU,EAhBgB,KAgBFkJ,EAhBE,KAkBjBC,ECnBiB,SAACJ,GACxB,OAAIA,EAEA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOK,OAAK,EAACC,KAAK,SAASC,UAAW7D,IACtC,kBAAC,IAAD,CAAO2D,OAAK,EAACC,KAAK,YAAYC,UAAWzB,IACzC,kBAAC,IAAD,CAAU0B,GAAG,YAKf,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOH,OAAK,EAACC,KAAK,QAAQC,UAAWjK,IACrC,kBAAC,IAAD,CAAUkK,GAAG,WDMJC,CAAUT,GAEnB9I,EAAK,uCAAG,WAAOnD,EAAOC,GAAd,eAAAC,EAAA,6DACZiM,GAAe,GADH,SAEepM,EAAcC,EAAOC,GAFpC,UAEN0M,EAFM,OAGZR,GAAe,IAEXQ,EAAatM,QALL,wBAMV+L,EAAgB,CAAEpM,QAAOC,aANf,kBAOH,CAAEI,SAAS,IAPR,iCASHsM,GATG,4CAAH,wDAcLtJ,EAAQ,uCAAG,WAAO7C,GAAP,eAAAN,EAAA,6DACfiM,GAAe,GADA,SAEU5L,EAAYC,GAFtB,UAEToM,EAFS,OAGfT,GAAe,IACXS,EAAWvM,QAJA,wBAKb6L,GAAmB,GACnBF,EAAQ9I,GACRkJ,EAAgB,MAChBR,aAAaiB,QAzCG,WA2CdnB,KAAKoB,UAAL,2BAAoB5J,GAApB,IAAkCtC,MAAOgM,EAAWhM,UAVzC,kBAYN,CAAEP,SAAS,IAZL,iCAcNuM,GAdM,4CAAH,sDAkBRxJ,EAAM,uCAAG,4BAAAlD,EAAA,6DACbiM,GAAe,GADF,SAEWpL,IAFX,OAEPgM,EAFO,OAGbZ,GAAe,GACXY,EAAU1M,UACZ6L,GAAmB,GACnBF,EAAQ,MACRI,EAAgB,MAChBR,aAAaoB,WA3DG,aAmDL,2CAAH,qDAYNnE,EAAU,uCAAG,gDAAA3I,EAAA,6DAAOsH,EAAP,+BAAc,EAAGpG,EAAjB,uBAAuB4F,EAAvB,uBAAgC8B,EAAhC,+BAA2C,GAC5DqD,GAAe,GADE,SAEEc,MAAM,2CAAD,OACqBzF,EADrB,qBACsCsB,GADtC,OAEpB1H,EAAI,iBAAaA,GAAS,IAFN,OAGnB4F,EAAO,mBAAeA,GAAY,KALtB,cAEX6C,EAFW,OAOjBsC,GAAe,GAPE,kBAQVtC,GARU,4CAAH,qDAWVjB,EAAU,uCAAG,kCAAA1I,EAAA,6DACjBiM,GAAe,GACXe,EAAcD,MAAM,sCACpBE,EAAiBF,MAAM,yCAHV,SAKCrN,QAAQwN,IAAI,CAACD,EAAgBD,IAL9B,cAKX9C,EALW,gBAMExK,QAAQwN,IAAIhD,EAAI9E,KAAI,SAACuF,GAAD,cAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAGf,WANhC,cAMXA,EANW,OAOjBqC,GAAe,GAPE,kBAQVrC,GARU,4CAAH,qDAWVkB,EAAe,uCAAG,WAAOhJ,GAAP,iBAAA9B,EAAA,6DACtBiM,GAAe,GADO,SAEHc,MAAM,sCAAD,OAAuCjL,IAFzC,cAEhB6H,EAFgB,gBAGHA,EAAKC,OAHF,cAGhBA,EAHgB,OAItBqC,GAAe,GAJO,kBAKfrC,GALe,2CAAH,sDAQfuD,EAAWC,mBACf,iBAAO,CACLrB,kBACAF,OACA1J,cACAa,eACAG,WACAD,SACAD,QACAyF,aACAC,aACAmC,qBAEF,CACEiB,EACAF,EACA1J,EACAa,EACAG,EACAD,EACAD,EACAyF,EACAC,EACAmC,IAIJ,OACE,kBAACxL,EAAY+N,SAAb,CAAsBpM,MAAOkM,GAC1BhL,GACC,yBAAKZ,UAAU,WACb,kBAAC,EAAD,OAGJ,yBAAKA,UAAU,OAAO4K,K,QEjI5BmB,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,QAGJ9G,SAASC,eAAe,Y","file":"static/js/main.e3f5407a.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n//используем контекст чтобы передавать авторизацию через хук useContext\r\nfunction noop() {}\r\n\r\nexport const AuthContext = createContext({\r\n  // login: noop(),\r\n  // logout: noop(),\r\n  // isAuthenticated: false,\r\n  // user: null,\r\n});\r\n","export const delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nexport const validateLogin = async (email, password) => {\r\n  await delay(500);\r\n  return email?.trim().toLowerCase() === \"kode@kode.ru\" &&\r\n    password === \"Enk0deng\"\r\n    ? { success: true }\r\n    : { success: false, error: \"Invalid user data\" };\r\n};\r\n\r\nexport const validate2FA = async (num) => {\r\n  await delay(500);\r\n  return num?.toString().length === 6 &&\r\n    num?.toString() === parseInt(num).toString()\r\n    ? { success: true, token: Date.now() + 7 * 24 * 60 * 60 * 1000 }\r\n    : { success: false, error: \"Enter any six digits\" };\r\n};\r\n\r\nexport const validateLogout = async () => {\r\n  await delay(50);\r\n  return { success: true };\r\n};\r\n","import React from \"react\";\r\nimport \"./Input.scss\";\r\n\r\nexport const Input = ({\r\n  title,\r\n  disabled,\r\n  value,\r\n  type = \"text\",\r\n  onChange: onChangeCb,\r\n  onSubmit: onSubmitCb,\r\n}) => {\r\n  const onChangeHandler = (e) => {\r\n    if (onChangeCb) {\r\n      onChangeCb(e.target.value);\r\n    }\r\n  };\r\n\r\n  const onSubmitHandler = (e) => {\r\n    if (e.keyCode === 13 || e.code === \"Enter\" || e.key === \"Enter\") {\r\n      if (onSubmitCb) {\r\n        onSubmitCb();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"input-group\">\r\n      {title ? <label htmlFor={title}>{title}</label> : \"\"}\r\n      <input\r\n        disabled={disabled}\r\n        className=\"input\"\r\n        onKeyPress={onSubmitHandler}\r\n        id={title}\r\n        value={value}\r\n        onChange={onChangeHandler}\r\n        type={type}\r\n      ></input>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport \"./Button.scss\";\r\n\r\nexport const Button = ({\r\n  title,\r\n  className = \"\",\r\n  disabled,\r\n  onClick: onClickCb,\r\n}) => {\r\n  const { userLoading } = useContext(AuthContext);\r\n  return (\r\n    <button\r\n      disabled={userLoading || disabled}\r\n      className={`btn ${className} ${disabled ? \"btn--disabled\" : \"\"}`}\r\n      onClick={onClickCb}\r\n    >\r\n      {title}\r\n    </button>\r\n  );\r\n};\r\n","import React, { useContext, useState } from \"react\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Input } from \"../../components/Input/\";\r\nimport { Button } from \"../../components/Button\";\r\nimport \"./AuthPage.scss\";\r\n\r\nexport const AuthPage = () => {\r\n  const [email, setEmail] = useState(\"kode@kode.ru\");\r\n  const [password, setPassword] = useState(\"Enk0deng\");\r\n  const [secondFA, setSecondFA] = useState(\"\");\r\n  const [animation, setAnimation] = useState(false);\r\n  const [showHiddenElements, setShowHiddenElements] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const { tempUserData, login, logout, login2FA, userLoading } = useContext(\r\n    AuthContext\r\n  );\r\n\r\n  const toggleAnimation = () => {\r\n    setAnimation(true);\r\n    setTimeout(() => setAnimation(false), 500);\r\n  };\r\n\r\n  const loginHandler = async () => {\r\n    setError(\"\");\r\n    setShowHiddenElements(true);\r\n    const result = await login(email, password);\r\n    if (result.success) {\r\n      toggleAnimation();\r\n      setShowHiddenElements(false);\r\n    } else {\r\n      setShowHiddenElements(false);\r\n      setError(result.error);\r\n    }\r\n  };\r\n\r\n  const login2FAHandler = async () => {\r\n    setError(\"\");\r\n    const result = await login2FA(secondFA);\r\n    if (!result.success) {\r\n      setError(result.error);\r\n    }\r\n  };\r\n\r\n  const handleBackFrom2FABtn = async () => {\r\n    setShowHiddenElements(true);\r\n    await logout();\r\n    toggleAnimation();\r\n    setError(\"\");\r\n    setShowHiddenElements(false);\r\n  };\r\n\r\n  return (\r\n    <div className={`auth ${tempUserData ? \"auth-2fa\" : \"\"}`}>\r\n      {(!tempUserData || animation || showHiddenElements) && (\r\n        <div className=\"auth__wrapper auth__wrapper--login\">\r\n          <div className=\"auth__inputs\">\r\n            <>\r\n              <Input\r\n                disabled={userLoading}\r\n                title=\"Email\"\r\n                value={email}\r\n                onChange={setEmail}\r\n                onSubmit={loginHandler}\r\n              />\r\n              <Input\r\n                disabled={userLoading}\r\n                title=\"Password\"\r\n                value={password}\r\n                type=\"password\"\r\n                onChange={setPassword}\r\n                onSubmit={loginHandler}\r\n              />\r\n            </>\r\n          </div>\r\n          <div className=\"auth__error\">{error ? error : \"\"}</div>\r\n          <div className=\"auth__tools\">\r\n            <Button\r\n              disabled={userLoading}\r\n              className=\"btn--success\"\r\n              title=\"Submit\"\r\n              onClick={loginHandler}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {(tempUserData || animation || showHiddenElements) && (\r\n        <div className=\"auth__wrapper auth__wrapper--2fa\">\r\n          <div className=\"auth__inputs\">\r\n            <Input\r\n              disabled={userLoading}\r\n              title=\"2FA Code\"\r\n              value={secondFA}\r\n              onChange={setSecondFA}\r\n              onSubmit={login2FAHandler}\r\n            />\r\n          </div>\r\n          <div className=\"auth__error\">{error ? error : \"\"}</div>\r\n          <div className=\"auth__tools\">\r\n            <Button\r\n              disabled={userLoading}\r\n              className=\"btn--dismiss\"\r\n              title=\"Back\"\r\n              onClick={handleBackFrom2FABtn}\r\n            />\r\n            <Button\r\n              disabled={userLoading}\r\n              className=\"btn--success\"\r\n              title=\"Submit\"\r\n              onClick={login2FAHandler}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./NavBar.scss\";\r\n\r\nexport const NavBar = ({ leftBtn, rightBtn }) => {\r\n  return (\r\n    <div className=\"navbar\">\r\n      {leftBtn} {rightBtn}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { NavBar } from \"../../components/NavBar\";\r\nimport \"./MainLayout.scss\";\r\n\r\nexport const MainLayout = ({ navbar, content }) => {\r\n  const navBarElement = navbar.enabled ? (\r\n    <NavBar\r\n      leftBtn={navbar.leftBtn || <div></div>}\r\n      rightBtn={navbar.rightBtn}\r\n    />\r\n  ) : (\r\n    <div></div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"main\">\r\n      {navBarElement}\r\n      <div className=\"main__wrapper\">{content}</div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Input } from \"../Input\";\r\nimport \"./Selector.scss\";\r\n\r\nexport const Selector = ({\r\n  arr,\r\n  choseCallback,\r\n  defaultValue = \"Не выбрано\",\r\n}) => {\r\n  const [filtered, setFiltered] = useState(arr);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [selected, setSelected] = useState(null);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setFiltered((arr = arr?.length > 0 ? [null, ...arr] : [null]));\r\n  }, [arr]);\r\n\r\n  useEffect(() => {\r\n    filterArr(inputValue);\r\n  }, [inputValue, setInputValue]);\r\n\r\n  const filterArr = (value) => {\r\n    const filtered = arr.filter(\r\n      (a) => a?.toLowerCase().includes(value.toLowerCase()) || a === null\r\n    );\r\n    setFiltered([null, ...filtered]);\r\n  };\r\n\r\n  const toggleIsOpen = () => {\r\n    setIsOpen((v) => !v);\r\n  };\r\n\r\n  const chooseItem = (value) => {\r\n    if (value === selected) return toggleIsOpen();\r\n    toggleIsOpen();\r\n    setSelected(value);\r\n    if (choseCallback) {\r\n      choseCallback(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`selector ${isOpen ? \"selector--active\" : \"\"}`}>\r\n      <div onClick={toggleIsOpen} className=\"selector__selected\">\r\n        {selected || defaultValue}\r\n      </div>\r\n      <ul className=\"selector__options\">\r\n        <Input value={inputValue} onChange={setInputValue} />\r\n        {filtered.map((item, i) => (\r\n          <li\r\n            key={`${item}-${i}`}\r\n            onClick={chooseItem.bind(null, item)}\r\n            className={`selector__item ${\r\n              selected === item ? \"selector__item--selected\" : \"\"\r\n            }`}\r\n          >\r\n            {item || defaultValue}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./SideBar.scss\";\r\n\r\nexport const SideBar = ({ children }) => {\r\n  return <div className=\"sidebar\">{children}</div>;\r\n};\r\n","import React from \"react\";\r\nimport \"./Card.scss\";\r\n\r\nexport const Card = ({ card, onClick: onClickCb }) => {\r\n  return (\r\n    <div className=\"card\" onClick={onClickCb.bind(null, card)}>\r\n      <img alt={card.name} src={card.imageUrl} />\r\n      <div className=\"card__information\">\r\n        {card.name ? <p>Name - {card.name}</p> : \"\"}\r\n        {card.artist ? <p>Artist - {card.artist}</p> : \"\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext } from \"react\";\r\nimport \"./CardsCatalog.scss\";\r\nimport { Card } from \"../Card\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport const CardsCatalog = ({\r\n  cards,\r\n  onCardClick: onCardClickCb,\r\n  pagination,\r\n}) => {\r\n  const { userLoading } = useContext(AuthContext);\r\n  return (\r\n    <div className=\"cards-catalog__wrapper\">\r\n      <div className=\"cards-catalog\">\r\n        {cards.length === 0 && !userLoading && \"No cards found :c\"}\r\n        {cards.map((card) => (\r\n          <Card onClick={onCardClickCb} key={card.id} card={card} />\r\n        ))}\r\n      </div>\r\n      {pagination}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"../Button\";\r\nimport \"./Modal.scss\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport const Modal = ({ card, modalClose }) => {\r\n  const history = useHistory();\r\n\r\n  const modalCloseHandler = (e) => {\r\n    if (e.target === document.getElementById(\"modal\")) {\r\n      if (modalClose) {\r\n        modalClose();\r\n      }\r\n    }\r\n  };\r\n\r\n  const navigateToCardPage = (id) => {\r\n    history.push(`/card/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div id=\"modal\" className=\"modal\" onClick={modalCloseHandler}>\r\n      <div className=\"modal__info\">\r\n        <div className=\"modal__img-container\">\r\n          <img alt={card.name} src={card.imageUrlHiRes}></img>\r\n        </div>\r\n        <div className=\"modal__about-information\">\r\n          <h1>{card.name}</h1>\r\n          <h2>{card.types}</h2>\r\n          <h2>{card.subtype}</h2>\r\n          <br />\r\n          {card.attacks?.map((a) => {\r\n            return (\r\n              <React.Fragment key={a.name}>\r\n                <p>\r\n                  <span>{a.name}</span> - <span>{a.damage}</span>\r\n                </p>\r\n                {a.cost?.map((c, i) => {\r\n                  return (\r\n                    <React.Fragment key={`${c}-${i}`}>\r\n                      <b> {c}</b>\r\n                      <br />\r\n                    </React.Fragment>\r\n                  );\r\n                })}\r\n                <br />\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n          <div className=\"modal__close-btn\">\r\n            <Button className=\"btn--dismiss\" onClick={modalClose} title=\"×\" />\r\n          </div>\r\n          <div className=\"modal__away-btn\">\r\n            <Button\r\n              className=\"btn--success\"\r\n              onClick={navigateToCardPage.bind(null, card.id)}\r\n              title=\"More information...\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"../Button\";\r\nimport \"./Pagination.scss\";\r\n\r\nexport const Pagination = ({\r\n  page,\r\n  disabled,\r\n  pageCount = 1,\r\n  setPage,\r\n  pageRange = 4,\r\n}) => {\r\n  const usePageRange = () => {\r\n    const arrOfPageNums = new Set([]);\r\n\r\n    let rightAvailable = pageCount - page;\r\n    let leftAvailable = page - 1;\r\n\r\n    let tempPage = page;\r\n    let half = Math.floor(pageRange / 2);\r\n\r\n    if (pageRange % 2 === 0) {\r\n      half--;\r\n    }\r\n\r\n    while (leftAvailable > 0 && half > 0) {\r\n      arrOfPageNums.add(--tempPage);\r\n      leftAvailable--;\r\n      half--;\r\n    }\r\n    tempPage = page;\r\n    half = half + Math.floor(pageRange / 2);\r\n    while (rightAvailable > 0 && half > 0) {\r\n      arrOfPageNums.add(++tempPage);\r\n      rightAvailable--;\r\n      half--;\r\n    }\r\n    tempPage = Math.min(...arrOfPageNums);\r\n    while (leftAvailable > 0 && half > 0) {\r\n      arrOfPageNums.add(--tempPage);\r\n      leftAvailable--;\r\n      half--;\r\n    }\r\n\r\n    arrOfPageNums.add(1);\r\n    arrOfPageNums.add(pageCount);\r\n    arrOfPageNums.add(page);\r\n\r\n    return Array.from(arrOfPageNums).sort((a, b) => a - b);\r\n  };\r\n\r\n  return (\r\n    <div className=\"pagination\">\r\n      <Button\r\n        className=\"btn--prev\"\r\n        disabled={page === 1 || disabled}\r\n        title=\"< Prev\"\r\n        onClick={setPage.bind(null, (v) => v - 1)}\r\n      />\r\n\r\n      <div className=\"pagination__page-nums\">\r\n        {usePageRange().map((num) => {\r\n          return (\r\n            num !== 0 && (\r\n              <Button\r\n                disabled={page === num || disabled}\r\n                title={num}\r\n                onClick={setPage.bind(null, num)}\r\n              />\r\n            )\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <Button\r\n        className=\"btn--next\"\r\n        disabled={page === pageCount || pageCount === 0 || disabled}\r\n        title=\"Next >\"\r\n        onClick={setPage.bind(null, (v) => v + 1)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Button } from \"../../components/Button\";\r\nimport { MainLayout } from \"../../layout/MainLayout\";\r\nimport { Selector } from \"../../components/Selector\";\r\nimport { SideBar } from \"../../components/SideBar\";\r\nimport { CardsCatalog } from \"../../components/CardsCatalog\";\r\nimport { Modal } from \"../../components/Modal\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { Pagination } from \"../../components/Pagination\";\r\nimport \"./CardsPage.scss\";\r\n\r\nexport const CardsPage = () => {\r\n  const { logout, fetchTypes, fetchCards, userLoading } = useContext(\r\n    AuthContext\r\n  );\r\n\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(10);\r\n  const [pageCount, setPageCount] = useState(1);\r\n  const [type, setType] = useState(null);\r\n  const [subtype, setSubtype] = useState(null);\r\n\r\n  const [modal, setModal] = useState(false);\r\n  const [modalValue, setModalValue] = useState(null);\r\n\r\n  const [cardsArray, setCardsArray] = useState([]);\r\n  const [subTypesArray, setSubTypesArray] = useState([]);\r\n  const [typesArray, setTypesArray] = useState([]);\r\n\r\n  const asyncUseEffectFetchCards = async () => {\r\n    const data = await fetchCards(page, type, subtype, pageSize);\r\n    const json = await data.json();\r\n    const pageCnt = Math.ceil(data.headers.get(\"total-count\") / pageSize);\r\n    if (pageCnt === 0) {\r\n      setPageCount(1);\r\n    } else {\r\n      setPageCount(pageCnt);\r\n    }\r\n    setCardsArray(json.cards);\r\n  };\r\n\r\n  const asyncUseEffectFetchAllData = async () => {\r\n    const res = await fetchTypes();\r\n    setSubTypesArray(res[0].subtypes);\r\n    setTypesArray(res[1].types);\r\n  };\r\n\r\n  useEffect(() => {\r\n    asyncUseEffectFetchCards();\r\n  }, [page]);\r\n\r\n  useEffect(() => {\r\n    setPage(1);\r\n    asyncUseEffectFetchCards();\r\n  }, [type, subtype]);\r\n\r\n  useEffect(() => {\r\n    asyncUseEffectFetchAllData();\r\n  }, []);\r\n\r\n  const cardsPageNavbarSettings = {\r\n    enabled: true,\r\n    leftBtn: null,\r\n    rightBtn: (\r\n      <Button className={\"btn--dismiss\"} onClick={logout} title=\"Logout\" />\r\n    ),\r\n  };\r\n\r\n  const selectSubTypeHandler = (value) => {\r\n    setSubtype(value);\r\n  };\r\n\r\n  const selectTypeHandler = (value) => {\r\n    setType(value);\r\n  };\r\n\r\n  const onCardClickCb = (value) => {\r\n    setModal(true);\r\n    setModalValue(value);\r\n  };\r\n\r\n  const modalClose = () => {\r\n    setModal(false);\r\n  };\r\n\r\n  //   const onSelectType\r\n\r\n  return (\r\n    <>\r\n      <MainLayout\r\n        navbar={cardsPageNavbarSettings}\r\n        content={\r\n          <>\r\n            <SideBar>\r\n              <Selector\r\n                arr={typesArray}\r\n                defaultValue={\"Type\"}\r\n                choseCallback={selectTypeHandler}\r\n              />\r\n              <Selector\r\n                arr={subTypesArray}\r\n                defaultValue={\"Subtype\"}\r\n                choseCallback={selectSubTypeHandler}\r\n              />\r\n            </SideBar>\r\n            <CardsCatalog\r\n              pagination={\r\n                <Pagination\r\n                  disabled={userLoading}\r\n                  page={page}\r\n                  pageCount={pageCount}\r\n                  setPage={setPage}\r\n                />\r\n              }\r\n              onCardClick={onCardClickCb}\r\n              cards={cardsArray}\r\n            />\r\n          </>\r\n        }\r\n      />\r\n      {modal && modalValue && (\r\n        <Modal card={modalValue} modalClose={modalClose} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./SingleCard.scss\";\r\n\r\nexport const SingleCard = ({ card }) => {\r\n  return (\r\n    <div className=\"single-card\">\r\n      <div className=\"single-card__info\">\r\n        <div className=\"single-card__img-container\">\r\n          <img alt={card.name} src={card.imageUrlHiRes} />\r\n        </div>\r\n        <div className=\"single-card__about-information\">\r\n          <h1> {card.name}</h1>\r\n          <h2> {card.types}</h2>\r\n          <h2> {card.subtype}</h2>\r\n\r\n          {card.attacks?.length > 0 && (\r\n            <>\r\n              <div className=\"single-card__attacks\">\r\n                <h4 style={{ textAlign: \"center\", padding: \"1rem\" }}>\r\n                  Attacks:\r\n                </h4>\r\n                {card.attacks?.map((a) => {\r\n                  return (\r\n                    <div key={a.name} className=\"attack\">\r\n                      <p className=\"attack__title\">\r\n                        {a.name} Deals{\" \"}\r\n                        <span className=\"attack__damage\">\r\n                          {a.damage || 0} damage\r\n                        </span>\r\n                      </p>\r\n                      {a.cost?.length !== 0 && <p>And costs:</p>}\r\n                      {a.cost?.map((c, i) => {\r\n                        return (\r\n                          <p key={`${c}-${i}`} className=\"attack__cost\">\r\n                            - {c}\r\n                          </p>\r\n                        );\r\n                      })}\r\n                      {a.text && <p className=\"attack__text\">{a.text}</p>}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {card.resistances?.length > 0 && (\r\n            <>\r\n              <div className=\"single-card__resistances\">\r\n                <h4 style={{ textAlign: \"center\", padding: \"1rem\" }}>\r\n                  Resistances:\r\n                </h4>\r\n                {card.resistances?.map((r) => {\r\n                  return (\r\n                    <div key={r.type} className=\"resistance\">\r\n                      <p className=\"resistance-type\">{r.type} </p>\r\n                      <span className=\"resistance-value\">{r.value}</span>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </>\r\n          )}\r\n\r\n          {card.evolvesFrom ? (\r\n            <div className=\"single-card__evolves\">\r\n              Evolves From {card.evolvesFrom}\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport \"./SingleCardPage.scss\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { MainLayout } from \"../../layout/MainLayout\";\r\nimport { Button } from \"../../components/Button\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { SingleCard } from \"../../components/SingleCard\";\r\n\r\nexport const SingleCardPage = () => {\r\n  const { logout, fetchSingleCard } = useContext(AuthContext);\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [singleCard, setSingleCard] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function asyncUseEffect() {\r\n      const data = await fetchSingleCard(id);\r\n      setSingleCard(data.card);\r\n    }\r\n    asyncUseEffect();\r\n  }, []);\r\n\r\n  const singleCardPageNavbarSettings = {\r\n    enabled: true,\r\n    leftBtn: <Button onClick={history.goBack.bind(null)} title=\"< Back\" />,\r\n    rightBtn: (\r\n      <Button className={\"btn--dismiss\"} onClick={logout} title=\"Logout\" />\r\n    ),\r\n  };\r\n\r\n  return (\r\n    <MainLayout\r\n      navbar={singleCardPageNavbarSettings}\r\n      content={singleCard !== null && <SingleCard card={singleCard} />}\r\n    />\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport \"./Loading.scss\";\r\n\r\nexport const Loading = () => {\r\n  return (\r\n    <>\r\n      <div className=\"loadingio-spinner-dual-ring-vi7ovl4y53r\">\r\n        <div className=\"ldio-wjqcydmmwvd\">\r\n          <div></div>\r\n          <div>\r\n            <div></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useMemo } from \"react\";\nimport \"./App.scss\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { validateLogin, validate2FA, validateLogout } from \"../../utils\";\nimport { useRoutes } from \"../../routes\";\nimport { Loading } from \"../Loading\";\n\nexport const App = () => {\n  const storageName = \"userInfo\";\n  let localUser = JSON.parse(localStorage.getItem(storageName));\n  localUser =\n    localUser?.email && localUser?.password && localUser.token\n      ? localUser\n      : null;\n  const isTokenValid = localUser && Date.now() < localUser.token;\n  const [user, setUser] = useState(\n    isTokenValid && localUser ? localUser : null\n  );\n  const [isAuthenticated, setIsAuthenticated] = useState(\n    isTokenValid && localUser ? true : false\n  );\n  const [userLoading, setUserLoading] = useState(false);\n\n  const [tempUserData, setTempUserData] = useState(null); // Если человек прошел 1 шаг логина\n\n  const routes = useRoutes(isAuthenticated);\n\n  const login = async (email, password) => {\n    setUserLoading(true);\n    const isLoginValid = await validateLogin(email, password);\n    setUserLoading(false);\n\n    if (isLoginValid.success) {\n      setTempUserData({ email, password });\n      return { success: true };\n    } else {\n      return isLoginValid;\n      // Login failed\n    }\n  };\n\n  const login2FA = async (num) => {\n    setUserLoading(true);\n    const is2FAValid = await validate2FA(num);\n    setUserLoading(false);\n    if (is2FAValid.success) {\n      setIsAuthenticated(true);\n      setUser(tempUserData);\n      setTempUserData(null);\n      localStorage.setItem(\n        storageName,\n        JSON.stringify({ ...tempUserData, token: is2FAValid.token })\n      );\n      return { success: true };\n    } else {\n      return is2FAValid;\n    }\n  };\n\n  const logout = async () => {\n    setUserLoading(true);\n    const loggedOut = await validateLogout();\n    setUserLoading(false);\n    if (loggedOut.success) {\n      setIsAuthenticated(false);\n      setUser(null);\n      setTempUserData(null);\n      localStorage.removeItem(storageName);\n    }\n  };\n\n  const fetchCards = async (page = 1, type, subtype, pageSize = 10) => {\n    setUserLoading(true);\n    const data = await fetch(\n      `https://api.pokemontcg.io/v1/cards?page=${page}&pageSize=${pageSize}${\n        type ? `&types=${type}` : \"\"\n      }${subtype ? `&subtype=${subtype}` : \"\"}`\n    );\n    setUserLoading(false);\n    return data;\n  };\n\n  const fetchTypes = async () => {\n    setUserLoading(true);\n    let promiseType = fetch(\"https://api.pokemontcg.io/v1/types\");\n    let promiseSubType = fetch(\"https://api.pokemontcg.io/v1/subtypes\");\n\n    const res = await Promise.all([promiseSubType, promiseType]);\n    const json = await Promise.all(res.map((r) => r?.json()));\n    setUserLoading(false);\n    return json;\n  };\n\n  const fetchSingleCard = async (id) => {\n    setUserLoading(true);\n    const data = await fetch(`https://api.pokemontcg.io/v1/cards/${id}`);\n    const json = await data.json();\n    setUserLoading(false);\n    return json;\n  };\n\n  const provider = useMemo(\n    () => ({\n      isAuthenticated,\n      user,\n      userLoading,\n      tempUserData,\n      login2FA,\n      logout,\n      login,\n      fetchTypes,\n      fetchCards,\n      fetchSingleCard,\n    }),\n    [\n      isAuthenticated,\n      user,\n      userLoading,\n      tempUserData,\n      login2FA,\n      logout,\n      login,\n      fetchTypes,\n      fetchCards,\n      fetchSingleCard,\n    ]\n  );\n\n  return (\n    <AuthContext.Provider value={provider}>\n      {userLoading && (\n        <div className=\"loading\">\n          <Loading />\n        </div>\n      )}\n      <div className=\"app\">{routes}</div>\n    </AuthContext.Provider>\n  );\n};\n","import React from \"react\";\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { AuthPage } from \"./pages/AuthPage\";\r\nimport { CardsPage } from \"./pages/CardsPage\";\r\nimport { SingleCardPage } from \"./pages/SingleCardPage\";\r\n\r\nexport const useRoutes = (isAuthenticated) => {\r\n  if (isAuthenticated) {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/cards\" component={CardsPage} />\r\n        <Route exact path=\"/card/:id\" component={SingleCardPage} />\r\n        <Redirect to=\"/cards\" />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    return (\r\n      <Switch>\r\n        <Route exact path=\"/auth\" component={AuthPage}></Route>\r\n        <Redirect to=\"/auth\" />\r\n      </Switch>\r\n    );\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./scss/index.scss\";\nimport { App } from \"./components/App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}